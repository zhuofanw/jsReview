<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>deep/shallow copy</title>
	</head>
	<body>
		<script>
			//浅拷贝只是拷贝一层，更深层次对象级别的只拷贝引用
			//深拷贝拷贝多层，每一级别的数据都会拷贝
			var obj = {
				id: 1,
				name: "andy",
				msg: {
					age: 18,
				},
			};
			var o = {};

			//浅拷贝 拷贝地址

			// 方法一
			// for (var key in obj) {
			// 	o[key] = obj[key];
			// }
			//方法二 推荐
			Object.assign(o, obj);
			console.log(o);
			o.msg.age = 20;
			console.log("o更改后obj的值:", obj);

			//方法三
			// o = obj;
			// console.log(o);

			//深拷贝 封装函数
			// var obj = {
			// 	id: 1,
			// 	name: "andy",
			// 	msg: {
			// 		age: 18,
			// 	},
			// 	arr: [1, 2, 3],
			// };
			// var o = {};
			// (function deeepCopy(newobj, oldobj) {
			// 	for (var key in oldobj) {
			// 		//判断我们的属性值属于哪种数据类型
			// 		// 1.获取属性值
			// 		var value = oldobj[key];
			// 		//2.判断这个值是否是数组
			// 		if (value instanceof Array) {
			// 			newobj[key] = [];
			// 			deeepCopy(newobj[key], value);
			// 		} else if (value instanceof Object) {
			// 			//3.判断这个值是否是对象
			// 			newobj[key] = {};
			// 			deeepCopy(newobj[key], value);
			// 		} else {
			// 			//4.属于简单数据类型
			// 			newobj[key] = value;
			// 		}
			// 	}
			// })(o, obj);
			// console.log(o);
		</script>
	</body>
</html>
